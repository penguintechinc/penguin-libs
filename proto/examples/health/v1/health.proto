syntax = "proto3";

package examples.health.v1;

option go_package = "github.com/penguintechinc/penguin-libs/gen/go/examples/health/v1;healthv1";

// HealthService provides standard health checking for HTTP/3 services.
service HealthService {
  // Check returns the serving status of the service.
  rpc Check(HealthCheckRequest) returns (HealthCheckResponse) {}

  // Watch streams health status changes.
  rpc Watch(HealthCheckRequest) returns (stream HealthCheckResponse) {}
}

message HealthCheckRequest {
  // Service name to check. Empty string means overall server health.
  string service = 1;
}

message HealthCheckResponse {
  ServingStatus status = 1;
}

enum ServingStatus {
  SERVING_STATUS_UNSPECIFIED = 0;
  SERVING_STATUS_SERVING = 1;
  SERVING_STATUS_NOT_SERVING = 2;
  SERVING_STATUS_SERVICE_UNKNOWN = 3;
}
